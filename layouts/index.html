{{ define "html" }}
<head>
    {{- partial "head-content.html" . -}}
</head>
<body>
    <a class="skip-link" href="#introduction">Skip to introduction</a>

    {{- partial "header-fixed.html" . -}}

    <section id="introduction">
        <div class="container">
            <div class="text">
                <p>
                    <b>I can design and develop your website for you.</b>
                </p>
                <p>
                    I specialise in developing <i>fast</i> websites that not only look beautiful, but also have a great user experience and help your site rank higher in search results.
                </p>
            </div>
            <div class="links">
                <a class="button black" id="scroll-to-work" href="#work">See my work</a> <span class="email-me">or send me an email at <a href="mailto:me@sammckenzie.be">me@sammckenzie.be</a></span>
            </div>
        </div>
    </section>

    <section id="work">
        <div class="introduction">
            <p class="my-work">My work</p>
            <p class="work-account-links">You can find my open-source projects on my <a href="https://github.com/samjmckenzie">Github</a> account and my design work on my <a href="https://www.dribbble.com/samjmck">Dribbble</a> account.</p>
        </div>
        <ul class="projects">
            {{ range (where .Paginator.Pages "Type" "work").ByDate.Reverse }}
            <li class="project">
                <div class="showcase">
                    <picture>
                        <source type="image/webp" srcset="{{ .File.Dir }}{{ .Params.imageName }}.webp" />
                        <img src="{{ .File.Dir }}{{ .Params.imageName }}.png" loading="lazy" alt="Image of project {{ .Title }}" />
                    </picture>
                </div>
                <div class="content">
                    <div class="header">
                        <span class="title">{{ .Title }}</span>
                        <span class="date">{{ .Date.Format "January 2006" }}</span>
                    </div>
                    <p class="description">{{- .RawContent -}}</p>
                </div>
            </li>
            {{ end }}
        </ul>
    </section>

    <section id="contact">
        <div class="container">
            <p><b>Contact me.</b></p>
            <p>You can email me at <a href="mailto:me@sammckenzie.be">me@sammckenzie.be</a>.</p>
            <p>I can also be reached via the messaging app <a href="https://t.me/samjmckenzie">Telegram</a>.</p>
            <p>Feel free to follow or contact me on <a href="https://twitter.com/sam_mck">Twitter</a>.</p>
        </div>
        <div id="email-public-key">
            <a href="https://api.protonmail.ch/pks/lookup?op=get&search=me@sammckenzie.be">PGP key for encrypted email</a>
        </div>
    </section>

    {{ $scss := resources.Get "styles/pages/index.scss" }}
    {{ $options := (dict "outputStyle" "compressed") }}
    {{ $style := $scss | resources.ToCSS $options }}

    <style>
        {{ $style.Content | safeCSS }}
    </style>


    {{ with resources.Get "generated-bundles/index.bundle.js" }}
    <script>
        {{ .Content | safeJS }}
    </script>
    {{ end }}
</body>
{{ end }}
