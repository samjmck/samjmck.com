{{ define "html" }}
<head>
    {{- partial "head-content.html" . -}}
</head>
<body>
    <a class="skip-link" href="#introduction">Skip to introduction</a>

    {{- partial "header-fixed.html" . -}}

    <div class="sections">

    <div class="section" id="#introduction"></div>
    <section class="introduction">
        <div class="container">
            <div class="text">
                <p>
                    <b>I can design and develop your website for you.</b>
                </p>
                <p>
                    I specialise in developing <i>fast</i> websites that not only look beautiful, but also have a great user experience and help your site rank higher in search results.
                </p>
            </div>
            <div class="links">
                <a class="button black local-smooth-scroll" id="scroll-to-work" href="#work">See my work</a> <span class="email-me">or send me an email at <a href="mailto:me@sammckenzie.be">me@sammckenzie.be</a></span>
            </div>
        </div>
    </section>

    <!-- Hack so when we link directly to the section, the section isn't behind the header -->
    <div class="section" id="work"></div>
    <section class="work">
        {{ $linkSvg := `<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.5 9.75V14.25C13.5 14.6478 13.342 15.0294 13.0607 15.3107C12.7794 15.592 12.3978 15.75 12 15.75H3.75C3.35218 15.75 2.97064 15.592 2.68934 15.3107C2.40804 15.0294 2.25 14.6478 2.25 14.25V6C2.25 5.60218 2.40804 5.22064 2.68934 4.93934C2.97064 4.65804 3.35218 4.5 3.75 4.5H8.25" stroke="#0A6AEB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M11.25 2.25H15.75V6.75" stroke="#0A6AEB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M7.5 10.5L15.75 2.25" stroke="#0A6AEB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>` | safeHTML }}
        {{ $githubSvg := `<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50"><rect width="50" height="50" fill="none"/><path d="M157.348,107.44a21.033,21.033,0,0,0-6.646,40.987c1.052.192,1.436-.456,1.436-1.013,0-.5-.018-1.822-.028-3.577-5.85,1.272-7.084-2.818-7.084-2.818a5.57,5.57,0,0,0-2.335-3.077c-1.909-1.305.145-1.278.145-1.278a4.416,4.416,0,0,1,3.221,2.166c1.876,3.215,4.923,2.286,6.121,1.748a4.5,4.5,0,0,1,1.335-2.812c-4.67-.531-9.58-2.334-9.58-10.394a8.13,8.13,0,0,1,2.165-5.643,7.556,7.556,0,0,1,.207-5.566s1.765-.565,5.783,2.156a19.943,19.943,0,0,1,10.53,0c4.015-2.722,5.777-2.156,5.777-2.156a7.558,7.558,0,0,1,.21,5.566,8.116,8.116,0,0,1,2.161,5.643c0,8.079-4.918,9.857-9.6,10.377a5.021,5.021,0,0,1,1.428,3.9c0,2.812-.026,5.08-.026,5.77,0,.562.38,1.216,1.446,1.011a21.034,21.034,0,0,0-6.662-40.984Z" transform="translate(-132.741 -102.624)" fill="#0A6AEB" fill-rule="evenodd"/></svg>` | safeHTML }}
        {{ $work := (where .Paginator.Pages.ByWeight "Type" "work")}}
        {{ $lenPost := len $work }}
        {{ $leftColLen := math.Floor (div $lenPost 2) }}
        {{ $rightColLen := sub $lenPost $leftColLen }}
        <ul class="left-column">
            <li class="item introduction">
                <p class="my-work"><b>My work</b></p>
                <p class="work-account-links">You can find my all open-source projects on my <a href="https://github.com/samjmckenzie">Github</a> account and my designs on my <a href="https://www.dribbble.com/samjmck">Dribbble</a> profile.</p>
            </li>
            {{ range first $leftColLen $work }}
            <li class="item project">
                {{ if .Params.imageName2 }}
                <div class="showcase double">
                    <picture>
                        <!--<source type="image/webp" srcset="{{ .File.Dir }}{{ .Params.imageName }}.webp" />-->
                        <img src="{{ .File.Dir }}{{ .Params.imageName }}.png" loading="lazy" alt="Image of project {{ .Title }}" />
                    </picture>
                    <picture>
                        <!--<source type="image/webp" srcset="{{ .File.Dir }}{{ .Params.imageName2 }}.webp" />-->
                        <img src="{{ .File.Dir }}{{ .Params.imageName2 }}.png" loading="lazy" alt="Image of project {{ .Title }}" />
                    </picture>
                </div>
                {{ else }}
                <div class="showcase single">
                    <picture>
                        <!--<source type="image/webp" srcset="{{ .File.Dir }}{{ .Params.imageName }}.webp" />-->
                        <img src="{{ .File.Dir }}{{ .Params.imageName }}.png" loading="lazy" alt="Image of project {{ .Title }}" />
                    </picture>
                </div>
                {{ end }}
                <div class="content">
                    <div class="header">
                        <span class="title">{{ .Title }}</span>
                        <span class="date">{{ .Date.Format "January 2006" }}</span>
                    </div>
                    <p class="description">{{- .RawContent -}}</p>
                    {{ with .Params.website }}<p class="link"><a href="{{ . }}" alt="Visit live site for {{ $.Title }}">{{ $linkSvg }} <span>Visit live website</span></a></p>{{ end }}
                    {{ with .Params.link }}<p class="link"><a href="{{ . }}" alt="Visit webpage for {{ $.Title }}">{{ $linkSvg }} <span>Visit page</span></a></p>{{ end }}
                    {{ with .Params.github }}<p class="link"><a href="{{ . }}" alt="Visit Github for {{ $.Title }}">{{ $githubSvg }} <span>Visit Github repository</span></a></p>{{ end }}
                </div>
            </li>
            {{ end }}
        </ul>
        <ul class="right-column">
            {{ range after $leftColLen $work }}
            <li class="item project">
                {{ if .Params.imageName2 }}
                <div class="showcase double">
                    <picture>
                        <!--<source type="image/webp" srcset="{{ .File.Dir }}{{ .Params.imageName }}.webp" />-->
                        <img src="{{ .File.Dir }}{{ .Params.imageName }}.png" loading="lazy" alt="Image of project {{ .Title }}" />
                    </picture>
                    <picture>
                        <!--<source type="image/webp" srcset="{{ .File.Dir }}{{ .Params.imageName2 }}.webp" />-->
                        <img src="{{ .File.Dir }}{{ .Params.imageName2 }}.png" loading="lazy" alt="Image of project {{ .Title }}" />
                    </picture>
                </div>
                {{ else }}
                <div class="showcase single">
                    <picture>
                        <!--<source type="image/webp" srcset="{{ .File.Dir }}{{ .Params.imageName }}.webp" />-->
                        <img src="{{ .File.Dir }}{{ .Params.imageName }}.png" loading="lazy" alt="Image of project {{ .Title }}" />
                    </picture>
                </div>
                {{ end }}
                <div class="content">
                    <div class="header">
                        <span class="title">{{ .Title }}</span>
                        <span class="date">{{ .Date.Format "Jan 2006" }}</span>
                    </div>
                    <p class="description">{{- .RawContent -}}</p>
                    {{ with .Params.website }}<p class="link"><a href="{{ . }}" alt="Visit live site for {{ $.Title }}">{{ $linkSvg }} <span>Visit live website</span></a></p>{{ end }}
                    {{ with .Params.link }}<p class="link"><a href="{{ . }}" alt="Visit webpage for {{ $.Title }}">{{ $linkSvg }} <span>Visit page</span></a></p>{{ end }}
                    {{ with .Params.github }}<p class="link"><a href="{{ . }}" alt="Visit Github for {{ $.Title }}">{{ $githubSvg }} <span>Visit Github repository</span></a></p>{{ end }}
                </div>
            </li>
            {{ end }}
        </ul>
    </section>

    <div class="section" id="contact"></div>
    <section class="contact">
        <div class="container">
            <p><b>Contact me.</b></p>
            <p>You can email me at <a href="mailto:me@sammckenzie.be">me@sammckenzie.be</a>.</p>
            <p>I can also be reached via the messaging app <a href="https://t.me/samjmckenzie">Telegram</a>.</p>
            <p>Feel free to follow or contact me on <a href="https://twitter.com/sam_mck">Twitter</a>.</p>
        </div>
        <div id="email-public-key">
            <a href="https://api.protonmail.ch/pks/lookup?op=get&search=me@sammckenzie.be">PGP key for encrypted email</a>
        </div>
    </section>

    </div>

    {{ $scss := resources.Get "styles/pages/index.scss" }}
    {{ $options := (dict "outputStyle" "compressed") }}
    {{ $style := $scss | resources.ToCSS $options }}

    <style>
        {{ $style.Content | safeCSS }}
    </style>


    {{ with resources.Get "generated-bundles/index.bundle.js" }}
    <script>
        {{ .Content | safeJS }}
    </script>
    {{ end }}
</body>
{{ end }}
